<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>RFC1 - Histórico por usuario</title>
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
</head>
<body class="p-4">
  <h3>RFC1 - Histórico de servicios por usuario</h3>

  <form th:action="@{/stats/rfc1}" method="get" class="form-inline mb-3">
    <label class="mr-2">Cliente:</label>
    <select name="clienteId" class="form-control mr-2">
      <option value="">-- seleccione --</option>
      <th:block th:each="u : ${users}">
        <option th:value="${u.cedula}" th:text="${u.nombre}" th:selected="${u.cedula == clienteSel}"></option>
      </th:block>
    </select>
    <button class="btn btn-primary">Consultar</button>
    <a th:href="@{/stats}" class="btn btn-secondary ml-2">Volver</a>
  </form>

  <div th:if="${rows != null}">
    <table class="table table-sm table-bordered">
      <thead>
        <tr>
          <th>ID</th><th>Tipo</th><th>Distancia</th><th>Tarifa</th><th>HoraInicio</th><th>HoraFin</th>
          <th>Conductor</th><th>Placa</th><th>TarifaPasajeros</th><th>TarifaMercancias</th><th>TarifaDomicilio</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="r : ${rows}">
          <td th:text="${r['IDSERVICIO'] ?: r['idServicio']}"></td>
          <td th:text="${r['TIPO'] ?: r['tipo']}"></td>
          <td th:text="${r['DISTANCIA'] ?: r['distancia']}"></td>
          <td th:text="${r['TARIFA'] ?: r['tarifa']}"></td>
          <td th:text="${r['HORAINSICIO'] ?: r['horaInicio']}"></td>
          <td th:text="${r['HORAFIN'] ?: r['horaFin']}"></td>
          <td th:text="${r['CONDUCTORCEDULA'] ?: r['conductorCedula']}"></td>
          <td th:text="${r['PLACA'] ?: r['placa']}"></td>
        </tr>
      </tbody>
    </table>
  </div>
</body>
</html>
